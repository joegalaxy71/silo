syntax = "proto3";
package api;

//import "google/api/annotations.proto";

// messages

message UnitInfo {
    string Name = 1;
}

message SolutionInfo {
    string Name = 1;
    repeated UnitInfo Units = 2;
}

message Request {

}

message Outcome {

}

// services

service Server {
    rpc InitAsd(Request) returns (Outcome) {} //specify only a dataset full name
    // like rpool/asd

    //missing state=0

    rpc CreateSolution(Request) returns (Outcome) {} //+1 -> available
    rpc DestroySolution(Request) returns (Outcome) {} //-1 ->missing

    rpc BackupSolution(Request) returns (Outcome) {}
    rpc RestoreSolution(Request) returns (Outcome) {}

    rpc DeploySolution(Request) returns (Outcome) {} //+1 -> deployed
    rpc RetreatSolution(Request) returns (Outcome) {} //-1 -> available

    rpc StartSolution(Request) returns (Outcome) {} //+1 -> started
    rpc StopSolution(Request) returns (Outcome) {} //-1 -> deployed

    rpc ExposeSolution(Request) returns (Outcome) {} //+1 -> exposed
    rpc ContainSolution(Request) returns (Outcome) {} //-1 ->started

    rpc SnapshotSolution(Request) returns (Outcome) {}
    rpc RollbackSolution(Request) returns (Outcome) {}
}
